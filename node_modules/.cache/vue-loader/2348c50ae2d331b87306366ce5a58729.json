{"remainingRequest":"C:\\itheima\\leyou\\leyou-manage-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\itheima\\leyou\\leyou-manage-web\\src\\views\\item\\Category.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\itheima\\leyou\\leyou-manage-web\\src\\views\\item\\Category.vue","mtime":1592038276122},{"path":"C:\\itheima\\leyou\\leyou-manage-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\itheima\\leyou\\leyou-manage-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\itheima\\leyou\\leyou-manage-web\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1549812933000},{"path":"C:\\itheima\\leyou\\leyou-manage-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\itheima\\leyou\\leyou-manage-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"category\",\n  data() {\n    return {\n      isEdit: false,\n      show:false,\n      category: {name: '',parentId:-1,sort:1},\n      parentName:''\n    }\n  },\n  methods: {\n    handleAdd(node) {\n      this.show = true;\n      this.parentName = node.parentName;\n      const {name,id,parentName,...obj} = node;\n      console.info(obj);\n      this.category = obj;\n      console.info(this.category);\n    },\n    handleEdit(id, name) {\n      this.isEdit = true;\n      this.category = {};\n      this.category.id = id;\n      this.category.name = name;\n      //this.save();\n      this.show = true;\n    },\n    handleDelete(id) {\n      console.log(\"delete ... id=\" + id)\n      this.$http({\n        method: 'delete',\n        url: '/item/category?id='+id\n      }).then(resp => {\n        // 关闭窗口\n        this.show = false;\n        this.$message.success(\"删除成功！\");\n      }).catch(err => {\n        console.info(err.message);\n        this.show = false;\n        this.$message.error(\"删除失败！\");\n      });\n    },\n    handleClick(node) {\n      console.log(node)\n    },\n    save(){\n      this.$http({\n        method: this.isEdit ? 'put' : 'post',\n        url: '/item/category',\n        data: this.category\n      }).then(() => {\n        // 关闭窗口\n        this.show = false;\n        this.$message.success(\"保存成功！\");\n      }).catch(() => {\n        this.show = false;\n        this.$message.error(\"保存失败！\");\n      });\n    }\n  }\n};\n",{"version":3,"sources":["Category.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Category.vue","sourceRoot":"src/views/item","sourcesContent":["<template>\n  <div>\n  <v-card>\n    <v-flex xs12 sm10>\n      <v-tree url=\"/item/category/of/parent\" isEdit\n              @handleAdd=\"handleAdd\"\n              @handleEdit=\"handleEdit\"\n      @handleDelete=\"handleDelete\"></v-tree>\n    </v-flex>\n  </v-card>\n\n  <v-dialog v-model=\"show\"  width=\"300\" height=\"200\">\n    <v-card>\n      <v-card-title>\n        <div>\n        <h1 class=\"headline mb-0\">所属分类：{{parentName}}</h1>\n      </div>\n      </v-card-title>\n      <v-card-text>\n        <v-text-field label=\"分类名称：\" v-model=\"category.name\"/>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer/>\n        <v-btn color=\"blue darken-1\" flat @click.native=\"show=false\">取消</v-btn>\n        <v-btn color=\"blue darken-1\" flat @click.native=\"save\">保存</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"category\",\n    data() {\n      return {\n        isEdit: false,\n        show:false,\n        category: {name: '',parentId:-1,sort:1},\n        parentName:''\n      }\n    },\n    methods: {\n      handleAdd(node) {\n        this.show = true;\n        this.parentName = node.parentName;\n        const {name,id,parentName,...obj} = node;\n        console.info(obj);\n        this.category = obj;\n        console.info(this.category);\n      },\n      handleEdit(id, name) {\n        this.isEdit = true;\n        this.category = {};\n        this.category.id = id;\n        this.category.name = name;\n        //this.save();\n        this.show = true;\n      },\n      handleDelete(id) {\n        console.log(\"delete ... id=\" + id)\n        this.$http({\n          method: 'delete',\n          url: '/item/category?id='+id\n        }).then(resp => {\n          // 关闭窗口\n          this.show = false;\n          this.$message.success(\"删除成功！\");\n        }).catch(err => {\n          console.info(err.message);\n          this.show = false;\n          this.$message.error(\"删除失败！\");\n        });\n      },\n      handleClick(node) {\n        console.log(node)\n      },\n      save(){\n        this.$http({\n          method: this.isEdit ? 'put' : 'post',\n          url: '/item/category',\n          data: this.category\n        }).then(() => {\n          // 关闭窗口\n          this.show = false;\n          this.$message.success(\"保存成功！\");\n        }).catch(() => {\n          this.show = false;\n          this.$message.error(\"保存失败！\");\n        });\n      }\n    }\n  };\n</script>\n\n<style scoped>\n\n</style>\n"]}]}